//////////////  Known Information Aout the PC LOTA save file //////////////
                     Version 1.0   By Brian McCloud

Known about save files for PC version of Legacy of the Ancients:
file signature = 6 bytes.
record length = 382 bytes
All unspecified positions are unknown.
This file may not be 100% accurate.  If anyone finds an inaccuracy, I can
be 
contacted at MauveCloud@juno.com
Last updated 12/23/97 13:19 PST

[1]
offset  size/format     description
--------------------------------------
0000    14 bytes        Character name (normally stored as all caps)
000E    signed int      Dexterity
0010    long int        Gold in bank
0017    byte            seems to increase speed of automatic passing
0018    signed int      dungeon number
        0000 = no dungeon
        FFFF = Pirate Cave
        FFFE = Test for Knights
        FFFD = 4 Jewels
        all others = error message indicating a file missing
001A    signed int      Endurance
001C    IEEE single     Food
0020    long int        Gold on hand
0028    signed int      Current hit points
002C    signed int      Charm[2]
002E    byte            Level
0030    byte            Dungeon location (Y in high nybble, X in low
nybble)
0031    byte            Dungeon level
0032    byte            Dungeon direction 
     00 = North
     01 = East
     02 = South
     03 = West
0038    byte            Armor selected (5 = top armor, 63 = none)
003E    signed int      Intelligence
0043    byte            uncertain
004A    byte            Weapon selected (0 = top weapon, 63 = none)
0050    word            Horizontal Position (diff. maps) [4]
0054    word            Vertical Position (diff. maps) [4]
0056    signed int      Strength
0058    5 words         Weapon types, see table:
     0000 = none             0008 = Compound Bow
     0001 = Knife            0009 = Studded Hide
     0002 = Leaded Club      000A = Ring Mail
     0003 = Bladed Staff     000B = Double Mail
     0004 = Flail            000C = Plated Mail
     0005 = War Hammer       000D = Mythan Plate
     0006 = Bow & Arrow      000E - FFFF = glitch
     0007 = Broadaxe
0062    3 words         Armor types, see table above.
0068    5 words         Weapon qualities, see table:
     0000 = Shoddy
     0001 = Fair
     0002 = Good
     0003 = Great
     0004 = Superb
     0005-FFFF = glitch
0072    3 words         Armor qualities, see table above.
007A    signed int      Gold Armbands [3]
007C    signed int      Climbing Gear
007E    signed int      Healing Herbs
0080    signed int      Iron Keys
0082    signed int      Copper Keys
0084    signed int      Brass Keys
0086    signed int      Stone Keys
0088    signed int      Magic Seeds
008A    signed int      Mail (for delivery)
008C    signed int      Tulips
008E    signed int      Compasses
0090    signed int      Magic Ice
0092    signed int      Scepters
0094    signed int      Guard Jewels
0096    signed int      Compendiums
0098    signed int      Crowns
009A    signed int      Jade coins
009C    signed int      Topaz coins
009E    signed int      Amethyst coins
00A0    signed int      Sapphire coins
00A2    signed int      Turquoise coins
00A4    signed int      Ruby coins
00A6    signed int      Diamond coins
00A8    signed int      Magic Flames
00AA    signed int      Firebolts
00AC    signed int      Befuddles
00AE    signed int      Psyco Strengths
00B0    signed int      Kill Flashes
00B2    signed int      Seek Spells
00B6    signed int      "Art of Weaponry" Exhibit Status [5]
00B8    signed int      "Thornberry" Exhibit Status
00BA    signed int      "Flower Fountain" Exhibit Status
00BC    signed int      "Herb of Life" Exhibit Status [6]
00BE    signed int      "Pirate Treasure" Exhibit Status
00C0    signed int      "Native Currency" Exhibit Status
00C2    signed int      "Stones of Wisdom" Exhibit Status
00C4    signed int      "Tapestry" Exhibit Status
00C6    signed int      "Test for Knights" Exhibit Status
00C8    signed int      "Lost Displays" Exhibit Status
00CA    signed int      "Guardian" Exhibit Status
00CC    signed int      "Four Jewels" Exhibit Status
00CE    signed int      "Flight of Fancy" Exhibit Status
00ED    byte            Caretaker meeting flag (20 = caretaker met already)
00EE    byte            Map number
        00 = Mainland
        01 = Three Sisters
        02 = Fortress Isle
        03-FF = On Pegasus toward Fortress isle
00FA    boolean         Guardian flag
0102    signed int?     Ambushed flag?
0104    boolean         Wizard of Potions flag
0106    boolean         Cassandra flag
0114    signed int      Last city attacked
        negative means no cities remember an attack
        0000 = Isle City        0006 = Mazelton
        0001 = Cobbleton        0007 = Thompson Crossing
        0002 = Alanville        0008 = Merchant Square
        0003 = Grand Ledge      0009 = Laingsburg
        0004 = Big Rapids       000A = Holy Point
        0005 = Thornberry       000B = Easle Hollow
011A    byte            Dungeon flag (00 = no dungeon, 04 = in a dungeon)
0122-0174 signed ints   Chest Contents, Castle Kelfor
        negative means open & empty
        0001 = Gold Armband     000D = Scepter
        0002 = Climbing Gear    000E = Guard Jewel
        0003 = Healing Herb     000F = Compendium
        0004 = Iron Key         0010 = Crown
        0005 = Copper Key       0011 = Jade coin
        0006 = Brass Key        0012 = Topaz coin
        0007 = Stone Key        0013 = Amethyst coin
        0008 = Magic Seed       0014 = Sapphire coin
        0009 = Mail             0015 = Turquoise coin
        000A = Tulip            0016 = Ruby coin
        000B = Compass          0017 = Diamond coin
        000C = Magic Ice        all higher values are amounts of gold.

[1] To get offset within the file, add 6 for the first record, and 382
(17Eh) for each subsequent record.

[2] If this is set too high (80 is ok, 85 is too high), food will 
go negative in price, and he'll say not enough gold, or the game will
crash with a divide by zero error.

[3] For this and all items below, only the first two digits are shown, so
if this is edited to be 32,767, it will show as being 32... however, this is
truncation of digits, not change of actual value.

[4] Here are the coordinates for going to 1 space south of each city, and
some other places of interest as well.
Alanville..........0033, 003A
Big Rapids.........0004, 0051
Castle Kelfor......0035, 0036
Cobbleton..........004D, 002C
Grand Ledge........0027, 004F
Holy Point.........0054, 0005
Laingsburg.........0037, 0011
Mazelton...........0007, 0019
Merchant Square....0030, 0020
Museum.............0055, 0020
Thompson Crossing..001F, 0007
Thornberry.........000E, 002B
*The following two pairs of coordinates are for a different map, but it
has not yet been determined where it stores which map is being used.
Eagle Hollow.......0052, 0004
Pirate Cave........0006, 0005

[5] The exhibit statuses hold the number of times the exhibits have been 
visited, and negative numbers mean the exhibit is currently closed (Using

exhibits 32,768 times may force them closed).
[6] This is only counted when the fruit is eaten.


